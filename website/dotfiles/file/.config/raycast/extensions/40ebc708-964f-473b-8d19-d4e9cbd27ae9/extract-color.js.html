<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>extract-color.js - dotfiles - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../../../../../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dotfiles Atom Feed" href="../../../../../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="dotfiles Atom Feed (tags)" href="../../../../../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../../../../style.css" />
</head>
<body>
<table><tr><td><a href="../../../../../../"><img src="../../../../../logo.png" alt="" width="32" height="32" /></a></td><td><h1>dotfiles</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../../../../../log.html">Log</a> | <a href="../../../../../files.html">Files</a> | <a href="../../../../../refs.html">Refs</a> | <a href="../../../../../file/README.md.html">README</a></td></tr></table>
<hr/>
<div id="content">
<p> extract-color.js (3196B)</p><hr/><pre id="blob">
<a href="#l1" class="line" id="l1">      1</a> &quot;use strict&quot;;var h=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var P=Object.prototype.hasOwnProperty;var N=(n,o)=&gt;{for(var i in o)h(n,i,{get:o[i],enumerable:!0})},A=(n,o,i,l)=&gt;{if(o&amp;&amp;typeof o==&quot;object&quot;||typeof o==&quot;function&quot;)for(let s of F(o))!P.call(n,s)&amp;&amp;s!==i&amp;&amp;h(n,s,{get:()=&gt;o[s],enumerable:!(l=b(o,s))||l.enumerable});return n};var E=n=&gt;A(h({},&quot;__esModule&quot;,{value:!0}),n);var j={};N(j,{default:()=&gt;I});module.exports=E(j);var e=require(&quot;@raycast/api&quot;),u=require(&quot;react&quot;);var y=require(&quot;@raycast/api&quot;),w=require(&quot;path&quot;),x=require(&quot;fs/promises&quot;),S=require(&quot;child_process&quot;);async function D(n,...o){let i=(0,w.join)(y.environment.assetsPath,&quot;compiled_raycast_swift/extract-color&quot;);return await(0,x.chmod)(i,&quot;755&quot;),new Promise((l,s)=&gt;{let g=[n];for(let t of o)try{g.push(JSON.stringify(t,(r,a)=&gt;a===void 0?null:a))}catch(r){s(new p(&quot;Failed to serialize input to JSON: &quot;+r.message));return}let m=(0,S.spawn)(i,g),d=[],f=[];m.stdout?.on(&quot;data&quot;,t=&gt;{d.push(t.toString())}),m.stderr?.on(&quot;data&quot;,t=&gt;{f.push(t.toString())}),m.on(&quot;exit&quot;,t=&gt;{if(t===0)try{let r=d.join(&quot;&quot;).trim();r.length!=0?l(JSON.parse(r)):l(null)}catch(r){let a=new p(&quot;Failed to deserialize result from JSON: &quot;+r.message);a.stdout=d.join(&quot;&quot;).trim(),a.stderr=f.join(&quot;&quot;).trim(),s(a)}else{let r=new p(f.join(&quot;&quot;).trim()||d.join(&quot;&quot;).trim()||&quot;Could not get any data&quot;);r.stdout=d.join(&quot;&quot;).trim(),r.stderr=f.join(&quot;&quot;).trim(),s(r)}}),m.on(&quot;error&quot;,t=&gt;{s(t)})})}async function C(n,o,i){return await D(&quot;extractColor&quot;,n,o,i)}var p=class extends Error{constructor(o){super(o),this.name=&quot;SwiftError&quot;}};var c=require(&quot;react/jsx-runtime&quot;);function I(){let[n,o]=(0,u.useState)(3),[i,l]=(0,u.useState)(!0),[s,g]=(0,u.useState)([]),[m,d]=(0,u.useState)({title:&quot;No image found&quot;,description:&quot;Select an image from finder to extract colors&quot;});async function f(){let t=await(0,e.showToast)({style:e.Toast.Style.Animated,title:&quot;Extracting colors&quot;}),r;try{let a=await(0,e.getSelectedFinderItems)();a.length===0&amp;&amp;l(!1),r=a[0].path}catch{}r?C(r,40,!1).then(a=&gt;{g(a),t.style=e.Toast.Style.Success,t.title=&quot;Colors extracted&quot;,t.message=`${a.length} colors extracted from the image`,l(!1)}).catch(()=&gt;{l(!1),t.style=e.Toast.Style.Failure,t.title=&quot;Error extracting colors&quot;,t.message=&quot;Please select a valid image file&quot;}):(l(!1),d({title:&quot;No image selected&quot;,description:&quot;Please select an image from finder&quot;}),t.style=e.Toast.Style.Failure,t.title=&quot;No image selected&quot;,t.message=&quot;Please select an image from finder&quot;)}return(0,u.useEffect)(()=&gt;{f()},[]),(0,c.jsxs)(e.Grid,{columns:n,inset:e.Grid.Inset.Zero,isLoading:i,searchBarAccessory:(0,c.jsxs)(e.Grid.Dropdown,{tooltip:&quot;Grid Item Size&quot;,storeValue:!0,onChange:t=&gt;{o(parseInt(t)),l(!1)},children:[(0,c.jsx)(e.Grid.Dropdown.Item,{title:&quot;Large&quot;,value:&quot;4&quot;}),(0,c.jsx)(e.Grid.Dropdown.Item,{title:&quot;Medium&quot;,value:&quot;6&quot;}),(0,c.jsx)(e.Grid.Dropdown.Item,{title:&quot;Small&quot;,value:&quot;8&quot;})]}),children:[(0,c.jsx)(e.Grid.EmptyView,{icon:e.Icon.Eye,title:m.title,description:m.description}),!i&amp;&amp;s.map((t,r)=&gt;(0,c.jsx)(e.Grid.Item,{content:{color:t.hex},title:`${t.hex.toUpperCase()}`,actions:(0,c.jsx)(e.ActionPanel,{children:(0,c.jsx)(e.Action.CopyToClipboard,{content:t.hex})})},t.hex+r))]})}
</pre>
</div>
</body>
</html>
