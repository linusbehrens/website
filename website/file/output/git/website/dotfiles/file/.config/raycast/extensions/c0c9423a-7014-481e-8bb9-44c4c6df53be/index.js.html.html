<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>index.js.html - website - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../../../../../../../../../../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="website Atom Feed" href="../../../../../../../../../../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="website Atom Feed (tags)" href="../../../../../../../../../../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../../../../../../../../../style.css" />
</head>
<body>
<table><tr><td><a href="../../../../../../../../../../../"><img src="../../../../../../../../../../logo.png" alt="" width="32" height="32" /></a></td><td><h1>website</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../../../../../../../../../../log.html">Log</a> | <a href="../../../../../../../../../../files.html">Files</a> | <a href="../../../../../../../../../../refs.html">Refs</a> | <a href="../../../../../../../../../../file/README.md.html">README</a></td></tr></table>
<hr/>
<div id="content">
<p> index.js.html (10265B)</p><hr/><pre id="blob">
<a href="#l1" class="line" id="l1">      1</a> &lt;!DOCTYPE html&gt;
<a href="#l2" class="line" id="l2">      2</a> &lt;html&gt;
<a href="#l3" class="line" id="l3">      3</a> &lt;head&gt;
<a href="#l4" class="line" id="l4">      4</a> &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
<a href="#l5" class="line" id="l5">      5</a> &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
<a href="#l6" class="line" id="l6">      6</a> &lt;title&gt;index.js - dotfiles - Unnamed repository; edit this file &amp;#39;description&amp;#39; to name the repository.
<a href="#l7" class="line" id="l7">      7</a> &lt;/title&gt;
<a href="#l8" class="line" id="l8">      8</a> &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;../../../../../favicon.png&quot; /&gt;
<a href="#l9" class="line" id="l9">      9</a> &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;dotfiles Atom Feed&quot; href=&quot;../../../../../atom.xml&quot; /&gt;
<a href="#l10" class="line" id="l10">     10</a> &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;dotfiles Atom Feed (tags)&quot; href=&quot;../../../../../tags.xml&quot; /&gt;
<a href="#l11" class="line" id="l11">     11</a> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../../../../../style.css&quot; /&gt;
<a href="#l12" class="line" id="l12">     12</a> &lt;/head&gt;
<a href="#l13" class="line" id="l13">     13</a> &lt;body&gt;
<a href="#l14" class="line" id="l14">     14</a> &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;../../../../../../&quot;&gt;&lt;img src=&quot;../../../../../logo.png&quot; alt=&quot;&quot; width=&quot;32&quot; height=&quot;32&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;h1&gt;dotfiles&lt;/h1&gt;&lt;span class=&quot;desc&quot;&gt;Unnamed repository; edit this file &amp;#39;description&amp;#39; to name the repository.
<a href="#l15" class="line" id="l15">     15</a> &lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;
<a href="#l16" class="line" id="l16">     16</a> &lt;a href=&quot;../../../../../log.html&quot;&gt;Log&lt;/a&gt; | &lt;a href=&quot;../../../../../files.html&quot;&gt;Files&lt;/a&gt; | &lt;a href=&quot;../../../../../refs.html&quot;&gt;Refs&lt;/a&gt; | &lt;a href=&quot;../../../../../file/README.md.html&quot;&gt;README&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
<a href="#l17" class="line" id="l17">     17</a> &lt;hr/&gt;
<a href="#l18" class="line" id="l18">     18</a> &lt;div id=&quot;content&quot;&gt;
<a href="#l19" class="line" id="l19">     19</a> &lt;p&gt; index.js (7389B)&lt;/p&gt;&lt;hr/&gt;&lt;pre id=&quot;blob&quot;&gt;
<a href="#l20" class="line" id="l20">     20</a> &lt;a href=&quot;#l1&quot; class=&quot;line&quot; id=&quot;l1&quot;&gt;      1&lt;/a&gt; &amp;quot;use strict&amp;quot;;var C=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var j=Object.getOwnPropertyNames;var H=Object.prototype.hasOwnProperty;var J=(s,i)=&amp;gt;{for(var a in i)C(s,a,{get:i[a],enumerable:!0})},ee=(s,i,a,u)=&amp;gt;{if(i&amp;amp;&amp;amp;typeof i==&amp;quot;object&amp;quot;||typeof i==&amp;quot;function&amp;quot;)for(let d of j(i))!H.call(s,d)&amp;amp;&amp;amp;d!==a&amp;amp;&amp;amp;C(s,d,{get:()=&amp;gt;i[d],enumerable:!(u=Q(i,d))||u.enumerable});return s};var te=s=&amp;gt;ee(C({},&amp;quot;__esModule&amp;quot;,{value:!0}),s);var ae={};J(ae,{default:()=&amp;gt;v});module.exports=te(ae);var t=require(&amp;quot;@raycast/api&amp;quot;),M=require(&amp;quot;child_process&amp;quot;);var ie=[&amp;quot;B&amp;quot;,&amp;quot;kB&amp;quot;,&amp;quot;MB&amp;quot;,&amp;quot;GB&amp;quot;,&amp;quot;TB&amp;quot;,&amp;quot;PB&amp;quot;,&amp;quot;EB&amp;quot;,&amp;quot;ZB&amp;quot;,&amp;quot;YB&amp;quot;],se=[&amp;quot;B&amp;quot;,&amp;quot;KiB&amp;quot;,&amp;quot;MiB&amp;quot;,&amp;quot;GiB&amp;quot;,&amp;quot;TiB&amp;quot;,&amp;quot;PiB&amp;quot;,&amp;quot;EiB&amp;quot;,&amp;quot;ZiB&amp;quot;,&amp;quot;YiB&amp;quot;],re=[&amp;quot;b&amp;quot;,&amp;quot;kbit&amp;quot;,&amp;quot;Mbit&amp;quot;,&amp;quot;Gbit&amp;quot;,&amp;quot;Tbit&amp;quot;,&amp;quot;Pbit&amp;quot;,&amp;quot;Ebit&amp;quot;,&amp;quot;Zbit&amp;quot;,&amp;quot;Ybit&amp;quot;],oe=[&amp;quot;b&amp;quot;,&amp;quot;kibit&amp;quot;,&amp;quot;Mibit&amp;quot;,&amp;quot;Gibit&amp;quot;,&amp;quot;Tibit&amp;quot;,&amp;quot;Pibit&amp;quot;,&amp;quot;Eibit&amp;quot;,&amp;quot;Zibit&amp;quot;,&amp;quot;Yibit&amp;quot;],L=(s,i,a)=&amp;gt;{let u=s;return typeof i==&amp;quot;string&amp;quot;||Array.isArray(i)?u=s.toLocaleString(i,a):(i===!0||a!==void 0)&amp;amp;&amp;amp;(u=s.toLocaleString(void 0,a)),u};function x(s,i){if(!Number.isFinite(s))throw new TypeError(`Expected a finite number, got ${typeof s}: ${s}`);i={bits:!1,binary:!1,space:!0,...i};let a=i.bits?i.binary?oe:re:i.binary?se:ie,u=i.space?&amp;quot; &amp;quot;:&amp;quot;&amp;quot;;if(i.signed&amp;amp;&amp;amp;s===0)return` 0${u}${a[0]}`;let d=s&amp;lt;0,y=d?&amp;quot;-&amp;quot;:i.signed?&amp;quot;+&amp;quot;:&amp;quot;&amp;quot;;d&amp;amp;&amp;amp;(s=-s);let l;if(i.minimumFractionDigits!==void 0&amp;amp;&amp;amp;(l={minimumFractionDigits:i.minimumFractionDigits}),i.maximumFractionDigits!==void 0&amp;amp;&amp;amp;(l={maximumFractionDigits:i.maximumFractionDigits,...l}),s&amp;lt;1){let T=L(s,i.locale,l);return y+T+u+a[0]}let B=Math.min(Math.floor(i.binary?Math.log(s)/Math.log(1024):Math.log10(s)/3),a.length-1);s/=(i.binary?1024:1e3)**B,l||(s=s.toPrecision(3));let w=L(Number(s),i.locale,l),A=a[B];return y+w+u+A}var g=require(&amp;quot;react&amp;quot;);var S=require(&amp;quot;react&amp;quot;),ne=()=&amp;gt;{};function ce(s,i){let a=(0,S.useRef)(ne);(0,S.useEffect)(()=&amp;gt;{a.current=s},[s]),(0,S.useEffect)(()=&amp;gt;{if(a.current(),(i??0)&amp;gt;0){let d=Math.max(i??0,1e3),y=setInterval(()=&amp;gt;a.current(),d);return()=&amp;gt;clearInterval(y)}},[i])}var k=ce;var p=require(&amp;quot;react/jsx-runtime&amp;quot;);function v(){let[s,i]=(0,g.useState)([]),[a,u]=(0,g.useState)([]),[d,y]=(0,g.useState)(&amp;quot;&amp;quot;),l=(0,t.getPreferenceValues)(),B=l.shouldSearchInPaths,w=l.shouldSearchInPid,A=l.shouldPrioritizeAppsWhenFiltering,T=l.shouldShowPID,K=l.shouldShowPath,R=+l.refreshDuration,U=l.closeWindowAfterKill,$=l.clearSearchBarAfterKill,W=l.goToRootAfterKill,[F,Y]=(0,g.useState)(l.sortByMem?&amp;quot;memory&amp;quot;:&amp;quot;cpu&amp;quot;),[P,G]=(0,g.useState)(l.aggregateApps),D=()=&amp;gt;{(0,M.exec)(&amp;quot;ps -eo pid,ppid,pcpu,rss,comm&amp;quot;,(e,o)=&amp;gt;{if(e!=null)return;let r=o.split(`
<a href="#l21" class="line" id="l21">     21</a> &lt;a href=&quot;#l2&quot; class=&quot;line&quot; id=&quot;l2&quot;&gt;      2&lt;/a&gt; `).map(h=&amp;gt;{let N=[&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;,&amp;quot;&amp;quot;],b=/(\d+)\s+(\d+)\s+(\d+[.|,]\d+)\s+(\d+)\s+(.*)/,[,n,f,c,m,I]=h.match(b)??N,O=I.match(/[^/]*[^/]*$/i)?.[0]??&amp;quot;&amp;quot;,X=I.includes(&amp;quot;.prefPane&amp;quot;),q=I.includes(&amp;quot;.app/&amp;quot;);return{id:parseInt(n),pid:parseInt(f),cpu:parseFloat(c),mem:parseInt(m),type:X?&amp;quot;prefPane&amp;quot;:q?&amp;quot;app&amp;quot;:&amp;quot;binary&amp;quot;,path:I,processName:O}}).filter(h=&amp;gt;h.processName!==&amp;quot;&amp;quot;);i(r)})};k(D,R),(0,g.useEffect)(()=&amp;gt;{let e=s;P&amp;amp;&amp;amp;(e=z(e)),e.sort((o,r)=&amp;gt;F===&amp;quot;memory&amp;quot;?o.mem&amp;gt;r.mem?-1:1:o.cpu&amp;gt;r.cpu?-1:1),u(e)},[s,F,P]);let Z=e=&amp;gt;e.type===&amp;quot;prefPane&amp;quot;?{fileIcon:e.path?.replace(/(.+\.prefPane)(.+)/,&amp;quot;$1&amp;quot;)??&amp;quot;&amp;quot;}:e.type===&amp;quot;app&amp;quot;||e.type===&amp;quot;aggregatedApp&amp;quot;?{fileIcon:e.path?.replace(/(.+\.app)(.+)/,&amp;quot;$1&amp;quot;)??&amp;quot;&amp;quot;}:&amp;quot;/System/Library/CoreServices/CoreTypes.bundle/Contents/Resources/ExecutableBinaryIcon.icns&amp;quot;,E=async(e,o=!1)=&amp;gt;{let r=e.processName===&amp;quot;-&amp;quot;?`process ${e.id}?`:e.processName;if(!await(0,t.confirmAlert)({title:`${o?&amp;quot;Force &amp;quot;:&amp;quot;&amp;quot;}Kill ${r}?`,rememberUserChoice:!0})){(0,t.showToast)({title:`Cancelled Killing ${r}`,style:t.Toast.Style.Failure});return}(0,M.exec)(`zsh -c &amp;#39;${o?&amp;quot;sudo &amp;quot;:&amp;quot;&amp;quot;}kill -9 ${e.id}&amp;#39;`,h=&amp;gt;{if(h){o?(0,t.confirmAlert)({title:`Failed Killing ${r}`,message:&amp;quot;Please ensure that touch id/password prompt is enabled for sudo: https://dev.to/siddhantkcode/enable-touch-id-authentication-for-sudo-on-macos-sonoma-14x-4d28&amp;quot;,primaryAction:{title:&amp;quot;Open Link&amp;quot;,onAction:()=&amp;gt;(0,t.open)(&amp;quot;https://dev.to/siddhantkcode/enable-touch-id-authentication-for-sudo-on-macos-sonoma-14x-4d28&amp;quot;)}}):(0,t.showToast)({title:`Failed Killing ${r}`,style:t.Toast.Style.Failure});return}(0,t.showToast)({title:`Killed ${r}`,style:t.Toast.Style.Success})}),i(a.filter(h=&amp;gt;h.id!==e.id)),U&amp;amp;&amp;amp;(0,t.closeMainWindow)(),W&amp;amp;&amp;amp;(0,t.popToRoot)({clearSearchBar:$}),$&amp;amp;&amp;amp;(0,t.clearSearchBar)({forceScrollToTop:!0})},_=e=&amp;gt;{let o=[];return e.type===&amp;quot;aggregatedApp&amp;quot;&amp;amp;&amp;amp;e.appName!=null&amp;amp;&amp;amp;o.push(e.appName),T&amp;amp;&amp;amp;o.push(e.id.toString()),K&amp;amp;&amp;amp;o.push(e.path),o.join(&amp;quot; - &amp;quot;)},z=e=&amp;gt;{let o=Array(),r=new Map;r.set(1,{process:{id:1},childNodes:[]});let h=Array();e.forEach(n=&amp;gt;{if(n.type===&amp;quot;app&amp;quot;){h.push(n.id);let f=r.get(n.id);f==null?(f={process:n,childNodes:[]},r.set(n.id,f)):f.process=n;let c=r.get(n.pid);if(c==null)c={process:void 0,childNodes:[f]},r.set(n.pid,c);else if(c.process==null)c.childNodes.push(f);else{let m;for(;c?.process!=null&amp;amp;&amp;amp;c.process.pid!==1&amp;amp;&amp;amp;(m=r.get(c.process.pid))!=null;)c=m;c?.childNodes.push(f)}c.process?.id!==1&amp;amp;&amp;amp;(c.childNodes=c.childNodes.concat(f.childNodes),f.childNodes=[])}else o.push(n)});let N=r.get(1)?.childNodes,b=Array();return N?.forEach(n=&amp;gt;{if(n.process==null)return;b.push(n.process.id);let f=n.childNodes.map(c=&amp;gt;c.process?.id).filter(c=&amp;gt;c!=null);b=b.concat(f),o.push({id:n.process.id,pid:n.process.pid,cpu:(n.childNodes?.reduce((c,m)=&amp;gt;c+(m.process?.cpu??0),0)??0)+n.process.cpu,mem:(n.childNodes?.reduce((c,m)=&amp;gt;c+(m.process?.mem??0),0)??0)+n.process.mem,type:&amp;quot;aggregatedApp&amp;quot;,path:n.process.path,processName:n.process.processName,appName:n.process.path.match(/(?&amp;lt;=\/)[^/]+(?=\.app\/)/)?.[0]})}),o},V=a.length;return(0,p.jsx)(t.List,{isLoading:a.length===0,searchBarPlaceholder:&amp;quot;Filter by name&amp;quot;,onSearchTextChange:e=&amp;gt;y(e),searchBarAccessory:(0,p.jsx)(t.List.Dropdown,{tooltip:&amp;quot;Filter&amp;quot;,storeValue:!0,onChange:e=&amp;gt;Y(e),children:(0,p.jsxs)(t.List.Dropdown.Section,{title:&amp;quot;Sort By&amp;quot;,children:[(0,p.jsx)(t.List.Dropdown.Item,{title:&amp;quot;CPU Usage&amp;quot;,value:&amp;quot;cpu&amp;quot;}),(0,p.jsx)(t.List.Dropdown.Item,{title:&amp;quot;Memory Usage&amp;quot;,value:&amp;quot;memory&amp;quot;})]})}),children:(0,p.jsx)(t.List.Section,{title:&amp;quot;Processes&amp;quot;,subtitle:`${V} running`,children:a.filter(e=&amp;gt;{if(d===&amp;quot;&amp;quot;)return!0;let o=e.processName.toLowerCase().includes(d.toLowerCase()),r=B&amp;amp;&amp;amp;e.path.toLowerCase().match(new RegExp(`.+${d}.*\\.[app|framework|prefpane]`,&amp;quot;ig&amp;quot;))!=null,h=w&amp;amp;&amp;amp;e.id.toString().includes(d),N=e.type===&amp;quot;aggregatedApp&amp;quot;&amp;amp;&amp;amp;e.appName?.toLowerCase().includes(d.toLowerCase());return o||r||h||N}).sort((e,o)=&amp;gt;{if(A){let r=[&amp;quot;app&amp;quot;,&amp;quot;aggregatedApp&amp;quot;];if(r.includes(e.type)&amp;amp;&amp;amp;!r.includes(o.type))return-1;if(!r.includes(e.type)&amp;amp;&amp;amp;r.includes(o.type))return 1}return 0}).map((e,o)=&amp;gt;{let r=Z(e);return(0,p.jsx)(t.List.Item,{title:e.processName,subtitle:_(e),icon:r,accessories:[{text:`${e.cpu.toFixed(2)}%`,icon:{source:&amp;quot;cpu.svg&amp;quot;,tintColor:t.Color.PrimaryText},tooltip:&amp;quot;% CPU&amp;quot;},{text:x(e.mem*1024),icon:{source:&amp;quot;memorychip.svg&amp;quot;,tintColor:t.Color.PrimaryText},tooltip:&amp;quot;Memory&amp;quot;}],actions:(0,p.jsxs)(t.ActionPanel,{children:[(0,p.jsx)(t.Action,{title:&amp;quot;Kill&amp;quot;,icon:t.Icon.XMarkCircle,onAction:()=&amp;gt;E(e)}),(0,p.jsx)(t.Action,{title:&amp;quot;Force Kill&amp;quot;,icon:t.Icon.XMarkCircle,onAction:()=&amp;gt;E(e,!0)}),e.path==null?null:(0,p.jsx)(t.Action.CopyToClipboard,{title:&amp;quot;Copy Path&amp;quot;,content:e.path}),(0,p.jsx)(t.Action,{title:&amp;quot;Reload&amp;quot;,icon:t.Icon.ArrowClockwise,shortcut:{key:&amp;quot;r&amp;quot;,modifiers:[&amp;quot;cmd&amp;quot;]},onAction:()=&amp;gt;D()}),(0,p.jsx)(t.Action,{title:`${P?&amp;quot;Disable&amp;quot;:&amp;quot;Enable&amp;quot;} Aggregating Apps`,icon:t.Icon.AppWindow,shortcut:{key:&amp;quot;tab&amp;quot;,modifiers:[&amp;quot;shift&amp;quot;]},onAction:()=&amp;gt;{G(!P),(0,t.showToast)({title:`${P?&amp;quot;Disabled&amp;quot;:&amp;quot;Enabled&amp;quot;} aggregating apps`})}})]})},o)})})})}
<a href="#l22" class="line" id="l22">     22</a> &lt;/pre&gt;
<a href="#l23" class="line" id="l23">     23</a> &lt;/div&gt;
<a href="#l24" class="line" id="l24">     24</a> &lt;/body&gt;
<a href="#l25" class="line" id="l25">     25</a> &lt;/html&gt;
</pre>
</div>
</body>
</html>
