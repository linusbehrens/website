<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>extract-color.js.map.html - website - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../../../../../../../../../../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="website Atom Feed" href="../../../../../../../../../../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="website Atom Feed (tags)" href="../../../../../../../../../../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../../../../../../../../../style.css" />
</head>
<body>
<table><tr><td><a href="../../../../../../../../../../../"><img src="../../../../../../../../../../logo.png" alt="" width="32" height="32" /></a></td><td><h1>website</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../../../../../../../../../../log.html">Log</a> | <a href="../../../../../../../../../../files.html">Files</a> | <a href="../../../../../../../../../../refs.html">Refs</a> | <a href="../../../../../../../../../../file/README.md.html">README</a></td></tr></table>
<hr/>
<div id="content">
<p> extract-color.js.map.html (12155B)</p><hr/><pre id="blob">
<a href="#l1" class="line" id="l1">      1</a> &lt;!DOCTYPE html&gt;
<a href="#l2" class="line" id="l2">      2</a> &lt;html&gt;
<a href="#l3" class="line" id="l3">      3</a> &lt;head&gt;
<a href="#l4" class="line" id="l4">      4</a> &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;
<a href="#l5" class="line" id="l5">      5</a> &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
<a href="#l6" class="line" id="l6">      6</a> &lt;title&gt;extract-color.js.map - dotfiles - Unnamed repository; edit this file &amp;#39;description&amp;#39; to name the repository.
<a href="#l7" class="line" id="l7">      7</a> &lt;/title&gt;
<a href="#l8" class="line" id="l8">      8</a> &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; href=&quot;../../../../../favicon.png&quot; /&gt;
<a href="#l9" class="line" id="l9">      9</a> &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;dotfiles Atom Feed&quot; href=&quot;../../../../../atom.xml&quot; /&gt;
<a href="#l10" class="line" id="l10">     10</a> &lt;link rel=&quot;alternate&quot; type=&quot;application/atom+xml&quot; title=&quot;dotfiles Atom Feed (tags)&quot; href=&quot;../../../../../tags.xml&quot; /&gt;
<a href="#l11" class="line" id="l11">     11</a> &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../../../../../style.css&quot; /&gt;
<a href="#l12" class="line" id="l12">     12</a> &lt;/head&gt;
<a href="#l13" class="line" id="l13">     13</a> &lt;body&gt;
<a href="#l14" class="line" id="l14">     14</a> &lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;a href=&quot;../../../../../../&quot;&gt;&lt;img src=&quot;../../../../../logo.png&quot; alt=&quot;&quot; width=&quot;32&quot; height=&quot;32&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;h1&gt;dotfiles&lt;/h1&gt;&lt;span class=&quot;desc&quot;&gt;Unnamed repository; edit this file &amp;#39;description&amp;#39; to name the repository.
<a href="#l15" class="line" id="l15">     15</a> &lt;/span&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;
<a href="#l16" class="line" id="l16">     16</a> &lt;a href=&quot;../../../../../log.html&quot;&gt;Log&lt;/a&gt; | &lt;a href=&quot;../../../../../files.html&quot;&gt;Files&lt;/a&gt; | &lt;a href=&quot;../../../../../refs.html&quot;&gt;Refs&lt;/a&gt; | &lt;a href=&quot;../../../../../file/README.md.html&quot;&gt;README&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
<a href="#l17" class="line" id="l17">     17</a> &lt;hr/&gt;
<a href="#l18" class="line" id="l18">     18</a> &lt;div id=&quot;content&quot;&gt;
<a href="#l19" class="line" id="l19">     19</a> &lt;p&gt; extract-color.js.map (9370B)&lt;/p&gt;&lt;hr/&gt;&lt;pre id=&quot;blob&quot;&gt;
<a href="#l20" class="line" id="l20">     20</a> &lt;a href=&quot;#l1&quot; class=&quot;line&quot; id=&quot;l1&quot;&gt;      1&lt;/a&gt; {
<a href="#l21" class="line" id="l21">     21</a> &lt;a href=&quot;#l2&quot; class=&quot;line&quot; id=&quot;l2&quot;&gt;      2&lt;/a&gt;   &amp;quot;version&amp;quot;: 3,
<a href="#l22" class="line" id="l22">     22</a> &lt;a href=&quot;#l3&quot; class=&quot;line&quot; id=&quot;l3&quot;&gt;      3&lt;/a&gt;   &amp;quot;sources&amp;quot;: [&amp;quot;../src/extract-color.tsx&amp;quot;, &amp;quot;swift:/Users/runner/work/extensions/extensions/extensions/color-picker/swift/extract-color&amp;quot;],
<a href="#l23" class="line" id="l23">     23</a> &lt;a href=&quot;#l4&quot; class=&quot;line&quot; id=&quot;l4&quot;&gt;      4&lt;/a&gt;   &amp;quot;sourcesContent&amp;quot;: [&amp;quot;import { Action, ActionPanel, getSelectedFinderItems, Grid, Icon, showToast, Toast } from \&amp;quot;@raycast/api\&amp;quot;;\nimport { useEffect, useState } from \&amp;quot;react\&amp;quot;;\nimport { extractColor } from \&amp;quot;swift:../swift/extract-color\&amp;quot;;\n\ntype FinalColor = {\n  hex: string;\n  red: number;\n  green: number;\n  blue: number;\n  area: number;\n  hue: number;\n  saturation: number;\n  lightness: number;\n  intensity: number;\n};\n\nexport default function Command() {\n  const [columns, setColumns] = useState(3);\n  const [isLoading, setIsLoading] = useState(true);\n  const [colors, setColors] = useState&amp;lt;FinalColor[]&amp;gt;([]);\n  const [info, setInfo] = useState&amp;lt;{\n    title: string;\n    description: string;\n  }&amp;gt;({\n    title: \&amp;quot;No image found\&amp;quot;,\n    description: \&amp;quot;Select an image from finder to extract colors\&amp;quot;,\n  });\n\n  async function loadColors() {\n    const toast = await showToast({\n      style: Toast.Style.Animated,\n      title: \&amp;quot;Extracting colors\&amp;quot;,\n    });\n    let path: string | undefined;\n\n    try {\n      const items = await getSelectedFinderItems();\n      if (items.length === 0) {\n        setIsLoading(false);\n      }\n      path = items[0].path;\n    } catch {\n      // did not find any selected items\n    }\n\n    if (path) {\n      extractColor(path, 40, false) // Set dominantOnly to true\n        .then((colors: FinalColor[]) =&amp;gt; {\n          setColors(colors);\n          toast.style = Toast.Style.Success;\n          toast.title = \&amp;quot;Colors extracted\&amp;quot;;\n          toast.message = `${colors.length} colors extracted from the image`;\n          setIsLoading(false);\n        })\n        .catch(() =&amp;gt; {\n          setIsLoading(false);\n          toast.style = Toast.Style.Failure;\n          toast.title = \&amp;quot;Error extracting colors\&amp;quot;;\n          toast.message = \&amp;quot;Please select a valid image file\&amp;quot;;\n        });\n    } else {\n      setIsLoading(false);\n      setInfo({\n        title: \&amp;quot;No image selected\&amp;quot;,\n        description: \&amp;quot;Please select an image from finder\&amp;quot;,\n      });\n      toast.style = Toast.Style.Failure;\n      toast.title = \&amp;quot;No image selected\&amp;quot;;\n      toast.message = \&amp;quot;Please select an image from finder\&amp;quot;;\n    }\n  }\n\n  useEffect(() =&amp;gt; {\n    loadColors();\n  }, []);\n\n  return (\n    &amp;lt;Grid\n      columns={columns}\n      inset={Grid.Inset.Zero}\n      isLoading={isLoading}\n      searchBarAccessory={\n        &amp;lt;Grid.Dropdown\n          tooltip=\&amp;quot;Grid Item Size\&amp;quot;\n          storeValue\n          onChange={(newValue) =&amp;gt; {\n            setColumns(parseInt(newValue));\n            setIsLoading(false);\n          }}\n        &amp;gt;\n          &amp;lt;Grid.Dropdown.Item title=\&amp;quot;Large\&amp;quot; value=\&amp;quot;4\&amp;quot; /&amp;gt;\n          &amp;lt;Grid.Dropdown.Item title=\&amp;quot;Medium\&amp;quot; value=\&amp;quot;6\&amp;quot; /&amp;gt;\n          &amp;lt;Grid.Dropdown.Item title=\&amp;quot;Small\&amp;quot; value=\&amp;quot;8\&amp;quot; /&amp;gt;\n        &amp;lt;/Grid.Dropdown&amp;gt;\n      }\n    &amp;gt;\n      &amp;lt;Grid.EmptyView icon={Icon.Eye} title={info.title} description={info.description} /&amp;gt;\n\n      {!isLoading &amp;amp;&amp;amp;\n        colors.map((color, i) =&amp;gt; (\n          &amp;lt;Grid.Item\n            key={color.hex + i}\n            content={{ color: color.hex }}\n            title={`${color.hex.toUpperCase()}`}\n            actions={\n              &amp;lt;ActionPanel&amp;gt;\n                &amp;lt;Action.CopyToClipboard content={color.hex} /&amp;gt;\n              &amp;lt;/ActionPanel&amp;gt;\n            }\n          /&amp;gt;\n        ))}\n    &amp;lt;/Grid&amp;gt;\n  );\n}\n&amp;quot;, &amp;quot;\nimport { environment } from \&amp;quot;@raycast/api\&amp;quot;;\nimport { join } from \&amp;quot;path\&amp;quot;;\nimport { chmod } from \&amp;quot;fs/promises\&amp;quot;;\nimport { spawn } from \&amp;quot;child_process\&amp;quot;;\n\nasync function runSwiftFunction(command, ...args) {\n  const swiftPath = join(environment.assetsPath, \&amp;quot;compiled_raycast_swift/extract-color\&amp;quot;);\n  await chmod(swiftPath, \&amp;quot;755\&amp;quot;);\n\n  return new Promise((resolve, reject) =&amp;gt; {\n    const commandArgs = [command];\n    for (const arg of args) {\n      try {\n        commandArgs.push(JSON.stringify(arg, (k, v) =&amp;gt; v === undefined ? null : v));\n      } catch (err) {\n        reject(new SwiftError(\&amp;quot;Failed to serialize input to JSON: \&amp;quot; + err.message));\n        return;\n      }\n    }\n    const child = spawn(swiftPath, commandArgs);\n    const stdout = [];\n    const stderr = [];\n\n    child.stdout?.on(\&amp;quot;data\&amp;quot;, (data) =&amp;gt; {\n      stdout.push(data.toString());\n    });\n    child.stderr?.on(\&amp;quot;data\&amp;quot;, (data) =&amp;gt; {\n      stderr.push(data.toString());\n    });\n\n    child.on(\&amp;quot;exit\&amp;quot;, (code) =&amp;gt; {\n      if (code === 0) {\n        try {\n          const result = stdout.join(\&amp;quot;\&amp;quot;).trim();\n          if (result.length != 0) {\n            resolve(JSON.parse(result));\n          } else {\n            resolve(null);\n          }\n        } catch (err) {\n          const error = new SwiftError(\&amp;quot;Failed to deserialize result from JSON: \&amp;quot; + err.message);\n          error.stdout = stdout.join(\&amp;quot;\&amp;quot;).trim();\n          error.stderr = stderr.join(\&amp;quot;\&amp;quot;).trim();\n          reject(error);\n        }\n      } else {\n        const error = new SwiftError(stderr.join(\&amp;quot;\&amp;quot;).trim() || stdout.join(\&amp;quot;\&amp;quot;).trim() || \&amp;quot;Could not get any data\&amp;quot;);\n        error.stdout = stdout.join(\&amp;quot;\&amp;quot;).trim();\n        error.stderr = stderr.join(\&amp;quot;\&amp;quot;).trim();\n        reject(error);\n      }\n    });\n\n    child.on(\&amp;quot;error\&amp;quot;, (error) =&amp;gt; {\n      reject(error);\n    });\n  });\n}\n\nexport async function extractColor(filePath, count, dominantOnly) {\n  return await runSwiftFunction(\&amp;quot;extractColor\&amp;quot;, filePath, count, dominantOnly)\n}\n\nexport class SwiftError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \&amp;quot;SwiftError\&amp;quot;;\n  }\n}\n&amp;quot;],
<a href="#l24" class="line" id="l24">     24</a> &lt;a href=&quot;#l5&quot; class=&quot;line&quot; id=&quot;l5&quot;&gt;      5&lt;/a&gt;   &amp;quot;mappings&amp;quot;: &amp;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&amp;quot;,
<a href="#l25" class="line" id="l25">     25</a> &lt;a href=&quot;#l6&quot; class=&quot;line&quot; id=&quot;l6&quot;&gt;      6&lt;/a&gt;   &amp;quot;names&amp;quot;: [&amp;quot;extract_color_exports&amp;quot;, &amp;quot;__export&amp;quot;, &amp;quot;Command&amp;quot;, &amp;quot;__toCommonJS&amp;quot;, &amp;quot;import_api&amp;quot;, &amp;quot;import_react&amp;quot;, &amp;quot;import_api&amp;quot;, &amp;quot;import_path&amp;quot;, &amp;quot;import_promises&amp;quot;, &amp;quot;import_child_process&amp;quot;, &amp;quot;runSwiftFunction&amp;quot;, &amp;quot;command&amp;quot;, &amp;quot;args&amp;quot;, &amp;quot;swiftPath&amp;quot;, &amp;quot;resolve&amp;quot;, &amp;quot;reject&amp;quot;, &amp;quot;commandArgs&amp;quot;, &amp;quot;arg&amp;quot;, &amp;quot;k&amp;quot;, &amp;quot;v&amp;quot;, &amp;quot;err&amp;quot;, &amp;quot;SwiftError&amp;quot;, &amp;quot;child&amp;quot;, &amp;quot;stdout&amp;quot;, &amp;quot;stderr&amp;quot;, &amp;quot;data&amp;quot;, &amp;quot;code&amp;quot;, &amp;quot;result&amp;quot;, &amp;quot;error&amp;quot;, &amp;quot;extractColor&amp;quot;, &amp;quot;filePath&amp;quot;, &amp;quot;count&amp;quot;, &amp;quot;dominantOnly&amp;quot;, &amp;quot;message&amp;quot;, &amp;quot;import_jsx_runtime&amp;quot;, &amp;quot;Command&amp;quot;, &amp;quot;columns&amp;quot;, &amp;quot;setColumns&amp;quot;, &amp;quot;isLoading&amp;quot;, &amp;quot;setIsLoading&amp;quot;, &amp;quot;colors&amp;quot;, &amp;quot;setColors&amp;quot;, &amp;quot;info&amp;quot;, &amp;quot;setInfo&amp;quot;, &amp;quot;loadColors&amp;quot;, &amp;quot;toast&amp;quot;, &amp;quot;path&amp;quot;, &amp;quot;items&amp;quot;, &amp;quot;extractColor&amp;quot;, &amp;quot;newValue&amp;quot;, &amp;quot;color&amp;quot;, &amp;quot;i&amp;quot;]
<a href="#l26" class="line" id="l26">     26</a> &lt;a href=&quot;#l7&quot; class=&quot;line&quot; id=&quot;l7&quot;&gt;      7&lt;/a&gt; }
<a href="#l27" class="line" id="l27">     27</a> &lt;/pre&gt;
<a href="#l28" class="line" id="l28">     28</a> &lt;/div&gt;
<a href="#l29" class="line" id="l29">     29</a> &lt;/body&gt;
<a href="#l30" class="line" id="l30">     30</a> &lt;/html&gt;
</pre>
</div>
</body>
</html>
