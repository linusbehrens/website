<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>extract-color.js.map - dotfiles - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../../../../../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dotfiles Atom Feed" href="../../../../../atom.xml" />
<link rel="alternate" type="application/atom+xml" title="dotfiles Atom Feed (tags)" href="../../../../../tags.xml" />
<link rel="stylesheet" type="text/css" href="../../../../../style.css" />
</head>
<body>
<table><tr><td><a href="../../../../../../"><img src="../../../../../logo.png" alt="" width="32" height="32" /></a></td><td><h1>dotfiles</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../../../../../log.html">Log</a> | <a href="../../../../../files.html">Files</a> | <a href="../../../../../refs.html">Refs</a> | <a href="../../../../../file/README.md.html">README</a></td></tr></table>
<hr/>
<div id="content">
<p> extract-color.js.map (9370B)</p><hr/><pre id="blob">
<a href="#l1" class="line" id="l1">      1</a> {
<a href="#l2" class="line" id="l2">      2</a>   &quot;version&quot;: 3,
<a href="#l3" class="line" id="l3">      3</a>   &quot;sources&quot;: [&quot;../src/extract-color.tsx&quot;, &quot;swift:/Users/runner/work/extensions/extensions/extensions/color-picker/swift/extract-color&quot;],
<a href="#l4" class="line" id="l4">      4</a>   &quot;sourcesContent&quot;: [&quot;import { Action, ActionPanel, getSelectedFinderItems, Grid, Icon, showToast, Toast } from \&quot;@raycast/api\&quot;;\nimport { useEffect, useState } from \&quot;react\&quot;;\nimport { extractColor } from \&quot;swift:../swift/extract-color\&quot;;\n\ntype FinalColor = {\n  hex: string;\n  red: number;\n  green: number;\n  blue: number;\n  area: number;\n  hue: number;\n  saturation: number;\n  lightness: number;\n  intensity: number;\n};\n\nexport default function Command() {\n  const [columns, setColumns] = useState(3);\n  const [isLoading, setIsLoading] = useState(true);\n  const [colors, setColors] = useState&lt;FinalColor[]&gt;([]);\n  const [info, setInfo] = useState&lt;{\n    title: string;\n    description: string;\n  }&gt;({\n    title: \&quot;No image found\&quot;,\n    description: \&quot;Select an image from finder to extract colors\&quot;,\n  });\n\n  async function loadColors() {\n    const toast = await showToast({\n      style: Toast.Style.Animated,\n      title: \&quot;Extracting colors\&quot;,\n    });\n    let path: string | undefined;\n\n    try {\n      const items = await getSelectedFinderItems();\n      if (items.length === 0) {\n        setIsLoading(false);\n      }\n      path = items[0].path;\n    } catch {\n      // did not find any selected items\n    }\n\n    if (path) {\n      extractColor(path, 40, false) // Set dominantOnly to true\n        .then((colors: FinalColor[]) =&gt; {\n          setColors(colors);\n          toast.style = Toast.Style.Success;\n          toast.title = \&quot;Colors extracted\&quot;;\n          toast.message = `${colors.length} colors extracted from the image`;\n          setIsLoading(false);\n        })\n        .catch(() =&gt; {\n          setIsLoading(false);\n          toast.style = Toast.Style.Failure;\n          toast.title = \&quot;Error extracting colors\&quot;;\n          toast.message = \&quot;Please select a valid image file\&quot;;\n        });\n    } else {\n      setIsLoading(false);\n      setInfo({\n        title: \&quot;No image selected\&quot;,\n        description: \&quot;Please select an image from finder\&quot;,\n      });\n      toast.style = Toast.Style.Failure;\n      toast.title = \&quot;No image selected\&quot;;\n      toast.message = \&quot;Please select an image from finder\&quot;;\n    }\n  }\n\n  useEffect(() =&gt; {\n    loadColors();\n  }, []);\n\n  return (\n    &lt;Grid\n      columns={columns}\n      inset={Grid.Inset.Zero}\n      isLoading={isLoading}\n      searchBarAccessory={\n        &lt;Grid.Dropdown\n          tooltip=\&quot;Grid Item Size\&quot;\n          storeValue\n          onChange={(newValue) =&gt; {\n            setColumns(parseInt(newValue));\n            setIsLoading(false);\n          }}\n        &gt;\n          &lt;Grid.Dropdown.Item title=\&quot;Large\&quot; value=\&quot;4\&quot; /&gt;\n          &lt;Grid.Dropdown.Item title=\&quot;Medium\&quot; value=\&quot;6\&quot; /&gt;\n          &lt;Grid.Dropdown.Item title=\&quot;Small\&quot; value=\&quot;8\&quot; /&gt;\n        &lt;/Grid.Dropdown&gt;\n      }\n    &gt;\n      &lt;Grid.EmptyView icon={Icon.Eye} title={info.title} description={info.description} /&gt;\n\n      {!isLoading &amp;&amp;\n        colors.map((color, i) =&gt; (\n          &lt;Grid.Item\n            key={color.hex + i}\n            content={{ color: color.hex }}\n            title={`${color.hex.toUpperCase()}`}\n            actions={\n              &lt;ActionPanel&gt;\n                &lt;Action.CopyToClipboard content={color.hex} /&gt;\n              &lt;/ActionPanel&gt;\n            }\n          /&gt;\n        ))}\n    &lt;/Grid&gt;\n  );\n}\n&quot;, &quot;\nimport { environment } from \&quot;@raycast/api\&quot;;\nimport { join } from \&quot;path\&quot;;\nimport { chmod } from \&quot;fs/promises\&quot;;\nimport { spawn } from \&quot;child_process\&quot;;\n\nasync function runSwiftFunction(command, ...args) {\n  const swiftPath = join(environment.assetsPath, \&quot;compiled_raycast_swift/extract-color\&quot;);\n  await chmod(swiftPath, \&quot;755\&quot;);\n\n  return new Promise((resolve, reject) =&gt; {\n    const commandArgs = [command];\n    for (const arg of args) {\n      try {\n        commandArgs.push(JSON.stringify(arg, (k, v) =&gt; v === undefined ? null : v));\n      } catch (err) {\n        reject(new SwiftError(\&quot;Failed to serialize input to JSON: \&quot; + err.message));\n        return;\n      }\n    }\n    const child = spawn(swiftPath, commandArgs);\n    const stdout = [];\n    const stderr = [];\n\n    child.stdout?.on(\&quot;data\&quot;, (data) =&gt; {\n      stdout.push(data.toString());\n    });\n    child.stderr?.on(\&quot;data\&quot;, (data) =&gt; {\n      stderr.push(data.toString());\n    });\n\n    child.on(\&quot;exit\&quot;, (code) =&gt; {\n      if (code === 0) {\n        try {\n          const result = stdout.join(\&quot;\&quot;).trim();\n          if (result.length != 0) {\n            resolve(JSON.parse(result));\n          } else {\n            resolve(null);\n          }\n        } catch (err) {\n          const error = new SwiftError(\&quot;Failed to deserialize result from JSON: \&quot; + err.message);\n          error.stdout = stdout.join(\&quot;\&quot;).trim();\n          error.stderr = stderr.join(\&quot;\&quot;).trim();\n          reject(error);\n        }\n      } else {\n        const error = new SwiftError(stderr.join(\&quot;\&quot;).trim() || stdout.join(\&quot;\&quot;).trim() || \&quot;Could not get any data\&quot;);\n        error.stdout = stdout.join(\&quot;\&quot;).trim();\n        error.stderr = stderr.join(\&quot;\&quot;).trim();\n        reject(error);\n      }\n    });\n\n    child.on(\&quot;error\&quot;, (error) =&gt; {\n      reject(error);\n    });\n  });\n}\n\nexport async function extractColor(filePath, count, dominantOnly) {\n  return await runSwiftFunction(\&quot;extractColor\&quot;, filePath, count, dominantOnly)\n}\n\nexport class SwiftError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \&quot;SwiftError\&quot;;\n  }\n}\n&quot;],
<a href="#l5" class="line" id="l5">      5</a>   &quot;mappings&quot;: &quot;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&quot;,
<a href="#l6" class="line" id="l6">      6</a>   &quot;names&quot;: [&quot;extract_color_exports&quot;, &quot;__export&quot;, &quot;Command&quot;, &quot;__toCommonJS&quot;, &quot;import_api&quot;, &quot;import_react&quot;, &quot;import_api&quot;, &quot;import_path&quot;, &quot;import_promises&quot;, &quot;import_child_process&quot;, &quot;runSwiftFunction&quot;, &quot;command&quot;, &quot;args&quot;, &quot;swiftPath&quot;, &quot;resolve&quot;, &quot;reject&quot;, &quot;commandArgs&quot;, &quot;arg&quot;, &quot;k&quot;, &quot;v&quot;, &quot;err&quot;, &quot;SwiftError&quot;, &quot;child&quot;, &quot;stdout&quot;, &quot;stderr&quot;, &quot;data&quot;, &quot;code&quot;, &quot;result&quot;, &quot;error&quot;, &quot;extractColor&quot;, &quot;filePath&quot;, &quot;count&quot;, &quot;dominantOnly&quot;, &quot;message&quot;, &quot;import_jsx_runtime&quot;, &quot;Command&quot;, &quot;columns&quot;, &quot;setColumns&quot;, &quot;isLoading&quot;, &quot;setIsLoading&quot;, &quot;colors&quot;, &quot;setColors&quot;, &quot;info&quot;, &quot;setInfo&quot;, &quot;loadColors&quot;, &quot;toast&quot;, &quot;path&quot;, &quot;items&quot;, &quot;extractColor&quot;, &quot;newValue&quot;, &quot;color&quot;, &quot;i&quot;]
<a href="#l7" class="line" id="l7">      7</a> }
</pre>
</div>
</body>
</html>
